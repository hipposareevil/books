webpackJsonp([0],{"+CTI":function(t,e,s){"use strict";e.a={props:["theThing","numberOfThings"],data:function(){return{searchString:"",filterString:"",showList:!0}},methods:{viewAsList:function(){this.showList=!0,this.$emit("listOn")},viewAsGrid:function(){this.showList=!1,this.$emit("gridOn")},getPlaceHolder:function(){return"Search "+this.theThing}},watch:{filterString:function(t,e){this.$emit("filterString",t)},searchString:function(t,e){this.$emit("searchString",t)}}}},"+Wyc":function(t,e,s){"use strict";function a(t){s("q0g7")}var o=s("y8tb"),n=s("W8WJ"),i=s("VU/8"),r=a,c=i(o.a,n.a,!1,r,null,null);e.a=c.exports},"/o5o":function(t,e,s){"use strict";function a(t){s("l+Gr")}var o=s("Aqhm"),n=s("Efqw"),i=s("VU/8"),r=a,c=i(o.a,n.a,!1,r,null,null);e.a=c.exports},"/r2p":function(t,e,s){"use strict";function a(t){s("mVTS")}var o=s("jBd7"),n=s("uRAy"),i=s("VU/8"),r=a,c=i(o.a,n.a,!1,r,null,null);e.a=c.exports},"19nj":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("table",{staticClass:"table main-width is-narrow is-stripped",attrs:{cellpadding:"10"}},[t._m(0),t._v(" "),s("tbody",t._l(t.UserBooksJson,function(e){return s("UserBookRow",{key:e.userBookId,attrs:{allTags:t.allTags,userBook:e,filter:t.filter,tagFilter:t.tagFilter}})}))])])},o=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",{staticStyle:{width:"15%"},attrs:{title:"Cover"}},[t._v("Cover")]),t._v(" "),s("th",{staticStyle:{width:"25%"},attrs:{title:"Title"}},[t._v("Title")]),t._v(" "),s("th",{staticStyle:{width:"15%"},attrs:{title:"Author"}},[t._v("Author")]),t._v(" "),s("th",{staticStyle:{width:"5%"},attrs:{title:"Year"}},[t._v("Year")]),t._v(" "),s("th",{staticStyle:{width:"4%"},attrs:{title:"Year"}},[t._v("Rating")]),t._v(" "),s("th",{staticClass:"has-text-centered",staticStyle:{width:"18%"},attrs:{title:"Actions"}},[t._v("Tags")])])])}],n={render:a,staticRenderFns:o};e.a=n},"2TW2":function(t,e,s){"use strict";function a(t){s("wEkB")}var o=s("g+C/"),n=s("19nj"),i=s("VU/8"),r=a,c=i(o.a,n.a,!1,r,null,null);e.a=c.exports},"2WNV":function(t,e,s){"use strict";function a(t){s("n0ed")}var o=s("Uboh"),n=s("RCnD"),i=s("VU/8"),r=a,c=i(o.a,n.a,!1,r,null,null);e.a=c.exports},"3F73":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("table",{staticClass:"table main-width is-narrow is-stripped",attrs:{cellpadding:"10"}},[t._m(0),t._v(" "),s("tbody",t._l(t.BooksJson,function(t){return s("SingleBookRow",{key:t.id,attrs:{currentBook:t}})}))])])},o=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",{staticStyle:{width:"15%"},attrs:{title:"Cover"}},[t._v("Cover")]),t._v(" "),s("th",{staticStyle:{width:"30%"},attrs:{title:"Title"}},[t._v("Title")]),t._v(" "),s("th",{staticStyle:{width:"30%"},attrs:{title:"Author"}},[t._v("Author")]),t._v(" "),s("th",{staticStyle:{width:"7%"},attrs:{title:"Year"}},[t._v("Year")]),t._v(" "),s("th",{staticStyle:{width:"10%"},attrs:{title:"Actions"}},[t._v(" Actions")])])])}],n={render:a,staticRenderFns:o};e.a=n},"3pb6":function(t,e,s){"use strict";function a(t){s("VHj4")}var o=s("Uzby"),n=s("3F73"),i=s("VU/8"),r=a,c=i(o.a,n.a,!1,r,null,null);e.a=c.exports},"4dDN":function(t,e){t.exports="data:image/jpeg;base64,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"},"4eSh":function(t,e){},"5Wtb":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"box"},[t._v("\n  Message:\n  "),t._t("default"),t._v(" "),s("b",[t._v("  "+t._s(t.addendum))])],2)},o=[],n={render:a,staticRenderFns:o};e.a=n},"5wyB":function(t,e){},"69gz":function(t,e){},"6dp3":function(t,e,s){"use strict";function a(t){s("FFrL")}var o=s("vj27"),n=s("z/Kv"),i=s("VU/8"),r=a,c=i(o.a,n.a,!1,r,null,null);e.a=c.exports},"7DA4":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal",class:{"is-active":t.isActive},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key))return null;t.cancel(e)}}},[s("div",{staticClass:"modal-background"}),t._v(" "),s("div",{staticClass:"modal-card"},[s("header",{staticClass:"modal-card-head"},[s("h1",{staticClass:"modal-card-title"},[t._v("Books Login")]),t._v(" "),s("button",{staticClass:"delete",attrs:{"aria-label":"close"},on:{click:t.cancel}})]),t._v(" "),s("section",{staticClass:"modal-card-body"},[t.error?s("div",{staticClass:"alert alert-danger"},[s("p",[t._v(t._s(t.error))])]):t._e(),t._v(" "),s("div",{staticClass:"field"},[s("label",{staticClass:"label"},[t._v("Name")]),t._v(" "),s("div",{staticClass:"control has-icons-left"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.credentials.name,expression:"credentials.name"}],staticClass:"input is-medium",staticStyle:{width:"80%"},attrs:{type:"text",placeholder:"Your name"},domProps:{value:t.credentials.name},on:{input:function(e){e.target.composing||t.$set(t.credentials,"name",e.target.value)}}}),t._v(" "),t._m(0)])]),t._v(" "),s("div",{staticClass:"field"},[s("p",{staticClass:"control has-icons-left"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.credentials.password,expression:"credentials.password"}],staticClass:"input is-medium",staticStyle:{width:"80%"},attrs:{type:"password",placeholder:"Password"},domProps:{value:t.credentials.password},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.submit(e)},input:function(e){e.target.composing||t.$set(t.credentials,"password",e.target.value)}}}),t._v(" "),t._m(1)])])]),t._v(" "),s("footer",{staticClass:"modal-card-foot"},[s("div",{staticClass:"field is-grouped is-grouped-left"},[s("p",{staticClass:"control"},[s("button",{staticClass:"button is-success",on:{click:t.submit}},[t._v("\n            Login\n          ")])]),t._v(" "),s("p",{staticClass:"control"},[s("button",{staticClass:"button is-light",on:{click:t.cancel}},[t._v("\n            Cancel\n          ")])])])])])])},o=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"icon is-medium is-left"},[s("i",{staticClass:"fa fa-grav"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"icon is-medium is-left"},[s("i",{staticClass:"fa fa-lock"})])}],n={render:a,staticRenderFns:o};e.a=n},"7kaI":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"columns is-multiline is-left is-gapless"},t._l(t.BooksJson,function(e){return s("div",{staticClass:"has-text-centered column is-2",staticStyle:{margin:"0.75.em"}},[s("a",{on:{click:function(s){t.gotoBook(e)}}},[s("div",{staticClass:"grid-div"},[s("figure",{staticClass:"image is-128x128 grid-figure"},[e.imageMedium?s("img",{staticClass:"grid-image",attrs:{src:e.imageMedium}}):t._e()]),t._v(" "),s("br"),t._v("\n          "+t._s(e.title)+"\n        ")])])])}))])},o=[],n={render:a,staticRenderFns:o};e.a=n},"8ERk":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.isUserDeletable()?s("div",[t.showRealDeleteButton?s("button",{staticClass:"button is-small is-danger",on:{blur:function(e){t.warning_averted()},click:function(e){t.deleteUser()}}},[t._v("\n      Delete!\n    ")]):s("button",{staticClass:"button is-warning is-small",on:{click:function(e){t.enableRealDeleteButton()},blur:function(e){t.warning_averted()}}},[t._v("\n      Delete\n    ")])]):s("div",[t._m(0)])])},o=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tooltip"},[s("span",{staticClass:"tooltiptext"},[t._v("Not Deletable")]),t._v(" "),s("button",{staticClass:"button is-danger is-small",attrs:{disabled:""}},[t._v("\n        Delete\n      ")])])}],n={render:a,staticRenderFns:o};e.a=n},"8Zii":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"columns"},[s("div",{staticClass:"column is-2"},[t.bookData.imageLarge?s("img",{staticClass:"boxshadow",attrs:{src:t.bookData.imageLarge}}):t._e()]),t._v(" "),s("div",{staticClass:"column is-4"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-content"},[s("p",{staticClass:"title"},[t._v("\n            "+t._s(t.bookData.title)+"\n          ")]),t._v(" "),s("p",{staticClass:"subtitle"},[t._v("\n            by "),s("a",{on:{click:function(e){t.gotoAuthor()}}},[t._v(t._s(t.bookData.authorName))]),t._v(" "),s("br"),t._v(" "),s("span",{staticClass:"is-size-7"},[t._v("\n              Published: "),s("time",[t._v(t._s(t.bookData.firstPublishedYear))])])])]),t._v(" "),t.bookData.description?s("div",{staticClass:"card-content"},[s("p",{staticClass:"title is-6"},[t._v("\n            Description:\n          ")]),t._v(" "),s("p",{staticClass:"subtitle"},[t._v("\n            "+t._s(t.bookData.description)+"\n          ")])]):t._e(),t._v(" "),s("footer",{staticClass:"card-footer"},[s("p",{staticClass:"card-footer-item"},[t.bookData.openlibraryWorkUrl?s("span",[t._v("\n              View on "),s("a",{attrs:{href:t.bookData.openlibraryWorkUrl}},[t._v("openlibrary.org")])]):t._e()]),t._v(" "),t._m(0)])])])])])},o=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",{staticClass:"card-footer-item"},[s("span",[t._v(" \n            ")])])}],n={render:a,staticRenderFns:o};e.a=n},Aqhm:function(t,e,s){"use strict";e.a={props:["active","whatType","thing"],data:function(){return{isActive:"",theThing:"",typeOfThing:this.whatType}},methods:{save:function(){this.$emit("dunsaved","foo"),this.isActive=!1},cancel:function(){this.$emit("duncanceled"),this.isActive=!1},keychanged:function(t){27===t.which&&this.cancel()}},watch:{active:function(t,e){this.isActive=t},thing:function(t,e){this.theThing=t}},created:function(){window.addEventListener("keyup",this.keychanged)}}},Bmjw:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("p",{staticClass:"subtitle is-4",staticStyle:{"border-bottom":"solid lightgray 1px"}},[t._v("\n    Add author to database\n  ")]),t._v(" "),s("modal",{attrs:{active:t.showmodal,whatType:"author",thing:t.currentAuthor.name},on:{dunsaved:t.saveCalled,duncanceled:t.cancelCalled}}),t._v(" "),s("nav",{staticClass:"level"},[s("div",{staticClass:"level-left"},[s("div",{staticClass:"level-item"}),t._v(" "),s("div",{staticClass:"level-item"},[s("div",{staticClass:"field has-addons"},[s("p",{staticClass:"control"}),s("form",{on:{submit:function(t){t.preventDefault()}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.forminput.name,expression:"forminput.name"}],staticClass:"input",attrs:{type:"text",placeholder:"Author name"},domProps:{value:t.forminput.name},on:{input:[function(e){e.target.composing||t.$set(t.forminput,"name",e.target.value)},t.debouncedSearch]}})]),t._v(" "),s("p"),t._v(" "),s("p",{staticClass:"control"},[s("button",{staticClass:"button is-info",class:{"is-loading":t.loading},on:{click:t.search}},[t._v("\n              Search\n            ")])])])])])]),t._v(" "),s("div",{staticStyle:{"text-align":"center"}},[s("ul",t._l(t.authorJson,function(e,a){return s("li",[s("a",{on:{click:function(s){t.clickOnAuthor(e)}}},[t._m(0,!0),t._v(" "),s("div",{staticClass:"tooltip"},[s("span",{staticClass:"tooltiptext",domProps:{innerHTML:t._s(t.makeHoverData(e))}}),t._v("\n          "+t._s(e.name)+" \n        ")])])])}))]),t._v(" "),s("br"),t._v(" "),t.errorMessage?s("article",{staticClass:"main-width message is-danger"},[s("div",{staticClass:"message-body"},[t._v("\n      "+t._s(t.errorMessage)+"\n    ")])]):t._e(),t._v(" "),t.userMessage?s("div",{staticClass:"animated fadeOutDown",staticStyle:{"font-size":"150%"}},[t._v("\n    "+t._s(t.userMessage)+"\n  ")]):t._e()],1)},o=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"icon is-small"},[s("i",{staticClass:"fa fa-user"})])}],n={render:a,staticRenderFns:o};e.a=n},C8Lv:function(t,e,s){"use strict";var a=s("SQ6o");e.a={data:function(){return{authorData:{},authorId:this.$route.params.id,bookData:{}}},methods:{getAuthor:function(){var t=a.a.getAuthHeader(),e=this;this.authorData={},this.$axios.get("/author/"+this.authorId,{headers:{Authorization:t}}).then(function(t){e.authorData=t.data}).catch(function(t){401===t.response.status?Event.$emit("got401"):console.log(t)})},getBooks:function(){console.log("get books for "+this.authorId);var t=a.a.getAuthHeader(),e=this;this.authorData={},this.$axios.get("/book?authorId="+this.authorId,{headers:{Authorization:t}}).then(function(t){e.bookData=t.data.data}).catch(function(t){401===t.response.status?Event.$emit("got401"):console.log(t)})},gotoBook:function(t){this.$router.push("/books/"+t.id)},makeHover:function(t){var e="";return t.imageMedium&&(e+='<img src="'+t.imageMedium+'"><br>'),e},changeImage:function(){console.log("change image for author "+this.authorData.name)}},mounted:function(){this.getAuthor(),this.getBooks()}}},DZim:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"columns is-multiline is-left is-gapless"},t._l(t.AuthorsJson,function(e){return s("div",{staticClass:"has-text-centered column is-2",staticStyle:{margin:"0.75em"}},[s("a",{on:{click:function(s){t.gotoAuthor(e)}}},[s("div",{staticClass:"grid-div"},[s("figure",{staticClass:"image is-128x128 grid-figure"},[e.imageMedium?s("img",{staticClass:"grid-image",attrs:{src:e.imageMedium}}):t._e()]),t._v(" "),s("br"),t._v("\n          "+t._s(e.name)+"\n        ")])])])}))])},o=[],n={render:a,staticRenderFns:o};e.a=n},Efqw:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal",class:{"is-active":t.isActive},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key))return null;t.cancel(e)}}},[s("div",{staticClass:"modal-background"}),t._v(" "),s("div",{staticClass:"modal-card"},[s("header",{staticClass:"modal-card-head",staticStyle:{"text-align":"center"}},[s("p",{staticClass:"modal-card-title"},[t._v("Add "+t._s(t.typeOfThing)+"\n        "),s("br"),t._v(" "),s("span",{staticClass:"is-size-3"},[t._v('"'+t._s(t.theThing)+'"')]),t._v(" "),s("br"),t._v("\n        to database?")]),t._v(" "),s("button",{staticClass:"delete",attrs:{"aria-label":"close"},on:{click:t.cancel}})]),t._v(" "),s("footer",{staticClass:"modal-card-foot"},[s("button",{staticClass:"button is-primary",on:{click:t.save}},[t._v("Yes")]),t._v(" "),s("button",{staticClass:"button",on:{click:t.cancel}},[t._v("Cancel")])])])])},o=[],n={render:a,staticRenderFns:o};e.a=n},Egkj:function(t,e){},EtyV:function(t,e,s){"use strict";function a(t){s("dKi3")}var o=s("uwpa"),n=s("g7Ar"),i=s("VU/8"),r=a,c=i(o.a,n.a,!1,r,null,null);e.a=c.exports},FFrL:function(t,e){},GK12:function(t,e){},KEbE:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("ViewHeader",{attrs:{theThing:"My Books"},on:{gridOn:t.showGrid,listOn:t.showList,searchString:t.searchStringUpdated,filterString:t.filterStringUpdated}}),t._v(" "),s("div",{staticClass:"columns"},[s("div",{staticClass:"column is-1 is-narrow",staticStyle:{"border-right":"solid lightgray 1px"}},[s("aside",{staticClass:"menu"},[s("p",{staticClass:"menu-label is-size-5 has-text-dark",staticStyle:{"margin-bottom":"2px"}},[t._v("\n          Tags\n        ")]),t._v(" "),s("ul",{staticClass:"menu-list"},t._l(t.TagJson,function(e){return s("li",{staticStyle:{"margin-left":"-0.5em"}},[s("a",{class:{"is-size-6":t.isSelected(e),highlighted:t.isSelected(e)},on:{click:function(s){t.setTagFilter(e.name)}}},[s("span",[t._v("\n                "+t._s(e.name)+"\n              ")])])])}))])]),t._v(" "),s("div",{staticClass:"column is-11"},[t.viewAsList?s("ShelfAsList",{attrs:{filter:t.filterBookString,tagFilter:t.tagFilter,allTags:t.TagJson,userBooks:t.UserBooksJson}}):s("ShelfAsGrid",{attrs:{filter:t.filterBookString,tagFilter:t.tagFilter,allTags:t.TagJson,userBooks:t.UserBooksJson}}),t._v(" "),s("infinite-loading",{on:{infinite:t.infiniteHandler}},[s("span",{attrs:{slot:"no-more"},slot:"no-more"},[t._v("\n          -- end shelf ("+t._s(t.end)+")--\n        ")]),t._v(" "),s("span",{attrs:{slot:"no-results"},slot:"no-results"},[t._v("\n          -- no results --\n        ")])])],1)]),t._v(" "),t.errorMessage?s("article",{staticClass:"main-width message is-danger"},[s("div",{staticClass:"message-body"},[t._v("\n      "+t._s(t.errorMessage)+"\n    ")])]):t._e()],1)},o=[],n={render:a,staticRenderFns:o};e.a=n},KmyB:function(t,e,s){"use strict";function a(t){s("Qdn/")}var o=s("NdPQ"),n=s("XAi4"),i=s("VU/8"),r=a,c=i(o.a,n.a,!1,r,null,null);e.a=c.exports},LsEa:function(t,e){},LxKw:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("p",{staticClass:"subtitle is-4",staticStyle:{"border-bottom":"solid lightgray 1px"}},[t._v("\n    Author: "+t._s(t.authorData.name)+"\n  ")]),t._v(" "),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-one-quarter"},[a("figure",{staticClass:"image is-square",staticStyle:{cursor:"pointer"},on:{dblclick:t.changeImage}},[t.authorData.imageLarge?a("img",{attrs:{src:t.authorData.imageLarge}}):a("img",{attrs:{src:s("4dDN")}})])]),t._v(" "),a("div",{staticClass:"column"},[a("p",{staticClass:"subtitle is-5",staticStyle:{width:"30%"}},[t._v("\n        Books:\n      ")]),t._v(" "),t._l(t.bookData,function(e){return a("ul",[a("li",{staticStyle:{"margin-top":"1em"}},[a("a",{on:{click:function(s){t.gotoBook(e)}}},[a("div",{staticClass:"tooltip"},[a("span",{staticClass:"tooltiptext",domProps:{innerHTML:t._s(t.makeHover(e))}}),t._v("\n              "+t._s(e.title)+"\n            ")])])])])})],2)])])},o=[],n={render:a,staticRenderFns:o};e.a=n},M2YU:function(t,e,s){"use strict";e.a={props:["authors"],data:function(){return{AuthorsJson:this.authors}},methods:{gotoAuthor:function(t){this.$router.push("/authors/"+t.id)}},watch:{authors:function(t,e){this.AuthorsJson=t}}}},M93x:function(t,e,s){"use strict";function a(t){s("XoYm")}var o=s("xJD8"),n=s("txVM"),i=s("VU/8"),r=a,c=i(o.a,n.a,!1,r,null,null);e.a=c.exports},"MDN+":function(t,e,s){"use strict";function a(t){s("ndcn")}var o=s("tfZe"),n=s("8Zii"),i=s("VU/8"),r=a,c=i(o.a,n.a,!1,r,null,null);e.a=c.exports},MKhd:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("td",[t.showSpan?s("span",{on:{click:t.mutate}},[t._v(t._s(t.user.name))]):s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.name,expression:"user.name"}],staticClass:"input is-small",attrs:{type:"text",autofocus:""},domProps:{value:t.user.name,value:t.user.name},on:{blur:t.mutate,keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.submit(e)},input:function(e){e.target.composing||t.$set(t.user,"name",e.target.value)}}})])},o=[],n={render:a,staticRenderFns:o};e.a=n},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("7+uW"),o=s("M93x"),n=s("YaEn"),i=s("mtWM"),r=s.n(i);a.a.prototype.$axios=r.a,a.a.config.productionTip=!1,window.Event=new a.a,new a.a({el:"#app",router:n.a,template:"<App/>",components:{App:o.a}})},NcXd:function(t,e,s){"use strict";var a=s("SQ6o"),o=s("kSZ6"),n=s("2TW2"),i=s("+Wyc"),r=s("qK+J"),c=s.n(r),l=s("M4fF"),u=s.n(l);e.a={components:{ViewHeader:o.a,ShelfAsList:n.a,ShelfAsGrid:i.a,InfiniteLoading:c.a},data:function(){return{errorMessage:"",viewAsList:!0,filterBookString:"",searchBookString:"",tagFilter:"",UserBooksJson:[],TagJson:[],dataStart:0,lengthToGet:15,end:-1,totalNumData:0}},mounted:function(){this.getTags()},methods:{infiniteHandler:function(t){var e=this;console.log("getUserBooks call: start: "+e.dataStart+", segmentSize/lengthToGet: "+this.lengthToGet);var s="/user_book/"+a.a.user.id,o=a.a.getAuthHeader();this.$axios.get(s,{headers:{Authorization:o},params:{start:e.dataStart,segmentSize:e.lengthToGet}}).then(function(s){var a=s.data.data,o=s.data.start,n=s.data.length;e.UserBooksJson=u.a.concat(e.UserBooksJson,a),t.loaded(),e.totalNumData=s.data.totalFound,e.end=o+n,e.dataStart=o+e.lengthToGet,console.log("NEW for userbook"),console.log("-----------------------------------"),console.log("length of new data: "+s.data.length),console.log("self.dataStart: "+e.dataStart),console.log("self.end: "+e.end),console.log("self.total: "+e.totalNumData),console.log("-----------------------------------"),e.end>=e.totalNumData&&t.complete()}).catch(function(e){t.complete(),e.response?401===e.response.status&&Event.$emit("got401"):(console.log("foooooooooo"),console.log(e))})},getTags:function(){var t=a.a.getAuthHeader(),e=this;this.TagJson={},this.$axios.get("/tag/",{headers:{Authorization:t}}).then(function(t){e.TagJson=t.data.data}).catch(function(t){401===t.response.status?Event.$emit("got401"):console.log(t)})},setTagFilter:function(t){this.tagFilter===t?this.tagFilter="":this.tagFilter=t},isSelected:function(t){return t.name===this.tagFilter},showGrid:function(){this.viewAsList=!1},showList:function(){this.viewAsList=!0},searchStringUpdated:function(t){this.searchBookString=t},filterStringUpdated:function(t){this.filterBookString=t},printError:function(t){var e=this;this.errorMessage=t,setTimeout(function(){e.errorMessage=""},2500)}}}},NdPQ:function(t,e,s){"use strict";var a=s("SQ6o"),o=s("b8Ho"),n=s("h5SO"),i=s("kSZ6"),r=s("qK+J"),c=s.n(r),l=s("M4fF"),u=s.n(l);e.a={components:{authorslist:o.a,authorsgrid:n.a,ViewHeader:i.a,InfiniteLoading:c.a},data:function(){return{AuthorsJson:[],viewAsList:!0,searchAuthorString:"",filterAuthorString:"",dataStart:0,lengthToGet:15,end:-1,totalNumData:0,lengthOfViewableAuthors:0}},methods:{infiniteHandler:function(t){var e=this;console.log("INFINITE"),console.log("getAuthors call: start: "+e.dataStart+", segmentSize/lengthToGet: "+this.lengthToGet);var s=a.a.getAuthHeader();this.$axios.get("/author",{headers:{Authorization:s},params:{start:e.dataStart,segmentSize:e.lengthToGet}}).then(function(s){var a=s.data.data,o=s.data.start,n=s.data.length;e.AuthorsJson=u.a.concat(e.AuthorsJson,a),t.loaded(),e.totalNumData=s.data.totalFound,e.end=o+n,e.dataStart=o+e.lengthToGet,console.log("NEW"),console.log("-----------------------------------"),console.log("length of new data: "+s.data.length),console.log("self.dataStart: "+e.dataStart),console.log("self.end: "+e.end),console.log("self.total: "+e.totalNumData),console.log("-----------------------------------"),e.end>=e.totalNumData&&t.complete()}).catch(function(e){t.complete(),e.response?401===e.response.status&&Event.$emit("got401"):(console.log("foooooooooo"),console.log(e))})},showGrid:function(){this.viewAsList=!1},showList:function(){this.viewAsList=!0},searchStringUpdated:function(t){this.searchAuthorString=t},filterStringUpdated:function(t){this.filterAuthorString=t}},computed:{authorList:function(){var t=this.AuthorsJson;if(this.lengthOfViewableAuthors=t.length,!this.filterAuthorString)return t;var e=this.filterAuthorString.toLowerCase(),s=function(t){return t.name.toLowerCase().includes(e)},a=t.filter(s);return this.lengthOfViewableAuthors=a.length,a}}}},ONHd:function(t,e,s){"use strict";var a=s("SQ6o");e.a={props:["userObject"],data:function(){return{showSpan:!0,user:this.userObject,originalName:this.userObject.name}},methods:{submit:function(){var t=this,e=a.a.getAuthHeader(),s="/user/"+t.user.id,o={Authorization:e},n={name:t.user.name};this.$axios.put(s,n,{headers:o}).then(function(e){t.originalName=t.user.name}).catch(function(t){console.log(t)})},mutate:function(){this.user.name=this.originalName,this.showSpan=!this.showSpan}}}},PlFd:function(t,e,s){"use strict";var a=s("SQ6o");e.a={props:["value"],data:function(){return{showSpan:!0,formValue:this.value}},methods:{submit:function(){console.log("submit! "+this.formValue);var t=a.a.getAuthHeader();console.log("making PUT request to /user");var e="/user/"+self.user.id,s={Authorization:t},o={name:self.user.name};this.$axios.put(e,o,{headers:s}).then(function(t){console.log("updated password!")}).catch(function(t){console.log(t)})},mutate:function(){this.showSpan=!this.showSpan}}}},"Q/Bi":function(t,e){},QGpA:function(t,e,s){"use strict";function a(t){s("vBBg")}var o=s("stOr"),n=s("7kaI"),i=s("VU/8"),r=a,c=i(o.a,n.a,!1,r,null,null);e.a=c.exports},"Qdn/":function(t,e){},R19s:function(t,e,s){"use strict";var a=s("M4fF"),o=s.n(a),n=s("/o5o"),i=s("SQ6o"),r=s("WVZl");e.a={components:{Modal:n.a},data:function(){return{currentAuthor:{},authorJson:{},forminput:{name:""},loading:!1,userMessage:"",showmodal:!1,errorMessage:""}},beforeRouteEnter:function(t,e,s){i.a.isAuthenticated("admin")?s():s(!1)},methods:{search:function(){var t=this;console.log("AddAuthor.search called");var e=this;this.loading=!0,this.$axios.get("/query/author?author="+this.forminput.name).then(function(e){t.authorJson=e.data.data,t.loading=!1}).catch(function(t){e.loading=!1,401===t.response.status?Event.$emit("got401"):console.log(t)})},clearInputs:function(){this.forminput.name="",this.showmodal=!1,this.authorJson={}},saveCalled:function(t){var e=this,s=this;console.log("save called in parent:"+t),console.log("Saving author: "+this.currentAuthor.name),s.showmodal=!1,s.clearInputs(),r.a.tryAddAuthor(this,this.currentAuthor),Event.$on("updatedb.authorcreated",function(t){return e.printMessage(t)}),Event.$on("updatedb.error",function(t){return e.printError(t)})},cancelCalled:function(){console.log("Cancel called in author parent"),this.showmodal=!1},clickOnAuthor:function(t){this.currentAuthor=t,this.showmodal=!0,this.userMessage=""},makeHoverData:function(t){var e=t.subjects,s="";if(s+='<img src="'+t.imageMedium+'"><br>',s+="<b>Birthdate:</b><br>",t.birthDate?s+="["+t.birthDate+"]":s+="n/a",s+="<br>",s+="<b>Subjects</b>:<br>",e)for(var a=0;a<e.length;a++)s+=e[a]+"<br>";else s+="n/a";return s},printError:function(t){var e=this;this.errorMessage=t,setTimeout(function(){e.errorMessage=""},2500)},printMessage:function(t){var e=this;e.userMessage=t,setTimeout(function(){e.userMessage=!1},2e3)}},created:function(){this.debouncedSearch=o.a.debounce(this.search,250)}}},RCnD:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.showRow?s("tr",[s("td",{staticStyle:{"outline-style":"none"}},[s("a",{on:{click:t.gotoBook}},[s("figure",{staticClass:"image is-128x128"},[t.book.imageMedium?s("img",{staticClass:"boxshadow",staticStyle:{width:"auto","max-height":"128px"},attrs:{src:t.book.imageMedium}}):t._e()])])]),t._v(" "),s("th",[s("a",{on:{click:t.gotoBook}},[t._v("\n      "+t._s(t.book.title)+" \n    ")])]),t._v(" "),s("td",[s("a",{on:{click:t.gotoAuthor}},[t._v("\n    "+t._s(t.book.authorName)+"\n    ")])]),t._v(" "),s("td",[t._v("\n    "+t._s(t.book.firstPublishedYear)+"\n  ")]),t._v(" "),s("td",{attrs:{title:"double-click to change rating"}},[s("span",{staticClass:"icon is-medium clickable",class:{"has-text-success":t.ratingWasChanged.flag},on:{dblclick:t.ratingClicked}},[!0===t.userBook.rating?s("i",{staticClass:"fa fa-thumbs-up"}):t._e(),t._v(" "),!1===t.userBook.rating?s("i",{staticClass:"fa fa-thumbs-down"}):t._e()])]),t._v(" "),s("td",{staticClass:"clickable",attrs:{title:"double-click to edit tags. "},on:{dblclick:t.tagClicked}},[s("div",{staticClass:"field is-grouped is-grouped-multiline"},t._l(t.userBook.tags,function(e){return s("div",{staticClass:"control"},[s("div",{staticClass:"tags has-addons"},[s("span",{staticClass:"tag is-light",class:{"is-success":t.tagsWereChanged.flag}},[t._v("\n            "+t._s(e)+"\n          ")])])])})),t._v(" "),t.showTagModal?s("UpdateTagsModal",{attrs:{active:t.showTagModal,allTags:t.allTags,book:t.book,userBook:t.userBook},on:{savedCalled:t.tagsUpdatedByModal,cancelCalled:t.tagsCancelledByModal}}):t._e()],1)]):t._e()},o=[],n={render:a,staticRenderFns:o};e.a=n},SQ6o:function(t,e,s){"use strict";e.a={user:{authenticated:!1,id:"",name:"",group:""},isAuthenticated:function(t){return t?t===this.user.group:this.user.authenticated},validateTokens:function(t){var e=this.getAuthHeader(),s=this;t.$axios.get("http://localhost:8080/authorize/validate",{headers:{Authorization:e}}).then(function(t){console.log("User validated")}).catch(function(){console.log("Auth.validatetokens: Unable to validate user authtoken. Logging our selves out internally."),s.logout(t)})},login:function(t,e,s){var a=this;console.log("log in! "),t.$axios.post("http://localhost:8080/authorize/token",{name:e.name,password:e.password}).then(function(o){localStorage.setItem("id_token",o.data.token),localStorage.setItem("user_id",o.data.userId),localStorage.setItem("user_name",e.name),localStorage.setItem("user_group",o.data.groupName),a.user.authenticated=!0,a.user.id=o.data.userId,a.user.name=e.name,a.user.group=o.data.groupName,console.log("Auth.login: finished processing login information"),s&&(console.log("Auth.login: route to location: "+s),t.$router.push(s))}).catch(function(e){e.response?(console.log("login: "+e.response.status),500===e.response.status&&t.emitMessage("got500")):e.request?(console.log("no response, sending message"),t.emitMessage("got500","Unable to contact the server (500).")):console.log("Auth.login: unknown error - "+e)})},zeroOut:function(){localStorage.removeItem("id_token"),localStorage.removeItem("user_id"),localStorage.removeItem("user_name"),localStorage.removeItem("user_group"),this.user.authenticated=!1,this.user.group="",this.user.id="",this.user.name=""},logout:function(t){this.zeroOut(),t.$router.push("/")},checkAuth:function(){localStorage.getItem("id_token")?(this.user.authenticated=!0,this.user.id=localStorage.getItem("user_id"),this.user.name=localStorage.getItem("user_name"),this.user.group=localStorage.getItem("user_group")):this.zeroOut()},getAuthHeader:function(){return localStorage.getItem("id_token")}}},"TKn+":function(t,e,s){"use strict";function a(t){s("4eSh")}var o=s("dxC/"),n=s("hdNR"),i=s("VU/8"),r=a,c=i(o.a,n.a,!1,r,null,null);e.a=c.exports},TZzk:function(t,e,s){"use strict";var a=s("SQ6o");e.a={props:["authors"],data:function(){return{AuthorsJson:this.authors}},methods:{is_authenticated:function(t){return a.a.checkAuth(),a.a.isAuthenticated(t)},gotoAuthor:function(t){this.$router.push("/authors/"+t.id)}},watch:{authors:function(t,e){this.AuthorsJson=t}}}},Uboh:function(t,e,s){"use strict";var a=s("SQ6o"),o=s("M4fF"),n=s.n(o),i=s("jDHc");e.a={components:{UpdateTagsModal:i.a},props:["userBook","filter","tagFilter","allTags"],data:function(){return{book:{},ratingWasChanged:{flag:!1},tagsWereChanged:{flag:!1},showTagModal:!1}},mounted:function(){this.getFullBook()},methods:{getFullBook:function(){var t=a.a.getAuthHeader(),e=this,s="/book/"+this.userBook.bookId;this.$axios.get(s,{headers:{Authorization:t}}).then(function(t){e.book=t.data}).catch(function(t){401===t.response.status?this.$emit("got401"):console.log(t)})},tagClicked:function(){this.showTagModal=!0},tagsUpdatedByModal:function(t){this.showTagModal=!1,console.log("Tags were updated: "+t),this.userBook.tags=t;var e={tags:this.userBook.tags};this.makePutCall(e,this.tagsWereChanged)},tagsCancelledByModal:function(){console.log("Tags were CANCELD"),this.showTagModal=!1},ratingClicked:function(){this.userBook.rating=!this.userBook.rating;var t={rating:this.userBook.rating};this.makePutCall(t,this.ratingWasChanged)},makePutCall:function(t,e){var s=this,o=a.a.getAuthHeader();console.log("making PUT request to /user_book/");var n="/user_book/"+s.userBook.userId+"/"+s.userBook.userBookId,i={Authorization:o};this.$axios.put(n,t,{headers:i}).then(function(t){e&&(e.flag=!0,setTimeout(function(){e.flag=!1},1200))}).catch(function(t){console.log(t)})},gotoBook:function(){this.$router.push("/books/"+this.book.id)},gotoAuthor:function(){this.$router.push("/authors/"+this.book.authorId)}},computed:{showRow:function(){var t=!0,e=!0;if(this.filter){var s=n.a.lowerCase(this.filter),a=n.a.lowerCase(this.book.title),o=n.a.lowerCase(this.book.authorName),i=String(this.book.firstPublishedYear);t=n.a.includes(o,s)||n.a.includes(a,s)||n.a.includes(i,s)}return this.tagFilter&&(e=n.a.includes(this.userBook.tags,this.tagFilter)),!(!t||!e)}},created:function(){window.addEventListener("mousedown",function(t){t.detail>1&&t.preventDefault()},!1)}}},Uzby:function(t,e,s){"use strict";var a=s("bZUl");e.a={components:{SingleBookRow:a.a},props:["books"],data:function(){return{BooksJson:this.books}},watch:{books:function(t,e){this.BooksJson=t}}}},"V/in":function(t,e,s){"use strict";var a=s("SQ6o");e.a={props:["userObject"],data:function(){return{showRealDeleteButton:!1,user:this.userObject}},methods:{isUserDeletable:function(){var t=Number(this.user.id);return t!==Number(a.a.user.id)&&1!==t},warning_averted:function(){this.showRealDeleteButton=!1},deleteUser:function(){var t=this,e=this,s=a.a.getAuthHeader(),o="/user/"+this.user.id,n={Authorization:s};this.$axios.delete(o,{headers:n}).then(function(s){console.log("deleted user: "+t.user.name+" "+t.user.id),e.$emit("userDeleted")}).catch(function(t){console.log(t)})},enableRealDeleteButton:function(){this.showRealDeleteButton=!0}}}},V7da:function(t,e){t.exports="data:image/png;base64,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"},VHj4:function(t,e){},W8WJ:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"columns is-multiline is-left is-gapless"},t._l(t.UserBooksJson,function(e){return s("UserBookGrid",{key:e.userBookId,staticClass:"column is-2",staticStyle:{margin:"0.75em"},attrs:{allTags:t.allTags,userBook:e,filter:t.filter,tagFilter:t.tagFilter}})}))])},o=[],n={render:a,staticRenderFns:o};e.a=n},WVZl:function(t,e,s){"use strict";var a=s("SQ6o"),o="http://localhost:8080";e.a={tryAddAuthor:function(t,e){console.log("add author "+e.name);var s=this,n=a.a.getAuthHeader(),i=o+"/author?name="+e.name;t.$axios.get(i,{headers:{Authorization:n}}).then(function(a){a.data.data.length<=0?s.addAuthor(t,e):window.Event.$emit("updatedb.authorcreated","Author "+e.name+" already exists. Continuing.")}).catch(function(t){console.log(t)})},addAuthor:function(t,e){console.log("really add author: "+e.name);var s=a.a.getAuthHeader();t.$axios.post("http://localhost:8080/author",e,{headers:{Authorization:s}}).then(function(t){window.Event.$emit("updatedb.authorcreated","Author "+e.name+" created!")}).catch(function(t){window.Event.$emit("updatedb.error",'Unable to create author "'+e.name+'": '+t),console.log(t)})},addBook:function(t,e){console.log("add book "+e.title),console.log("add book "+e.authorName),console.log("add book "+e.authorKey);var s=this,n=a.a.getAuthHeader(),i=o+"/author?name="+e.authorName;t.$axios.get(i,{headers:{Authorization:n}}).then(function(a){var o=a.data.data;if(o.length<=0)s.addBook_noauthor(t,e);else{var n=o[0].id;console.log("author already exists: "+n),s.addBook_authorcreated(t,e,n)}}).catch(function(t){console.log(t)})},addBook_noauthor:function(t,e){var s=this,n=a.a.getAuthHeader();console.log("addbook_noauthor: "+e.authorKey);var i=o+"/query/author?author="+e.authorKey;console.log("addBook_noauthor. do a get on: "+i),t.$axios.get(i,{headers:{Authorization:n}}).then(function(a){var i=a.data.data[0];console.log(i);var r=o+"/author";console.log("addBook. do a POST to "+r),t.$axios.post(r,i,{headers:{Authorization:n}}).then(function(a){var o=a.data.id;console.log("AUTHOR: "+a.data),console.log("Created author: "+o),s.addBook_authorcreated(t,e,o)}).catch(function(t){window.Event.$emit("updatedb.error",'Unable to create author "'+e.authorName+'": '+t),console.log(t)})}).catch(function(t){console.log(t)})},addBook_authorcreated:function(t,e,s){console.log("create book for existing author "+s);var n=a.a.getAuthHeader(),i={imageLarge:e.imageLarge,imageMedium:e.imageMedium,imageSmall:e.imageSmall,authorId:s,description:e.description,firstPublishedYear:e.firstPublishedYear,openlibraryWorkUrl:e.openlibraryWorkUrl,subjects:e.subjects,isbns:e.isbns,title:e.title},r=o+"/book";console.log("create book at url: "+r),console.log("create with workurl: "+e.openlibraryWorkUrl),t.$axios.post(r,i,{headers:{Authorization:n}}).then(function(t){console.log("Created book!: "+t.data),window.Event.$emit("updatedb.bookcreated","Book "+e.title+" saved!")}).catch(function(t){t.response?409===t.response.status?window.Event.$emit("updatedb.book.409",'Book "'+e.title+'" already exists'):window.Event.$emit("updatedb.error",'Unable to create book "'+e.title+'": '+t):(window.Event.$emit("updatedb.error",'Unable to create book "'+e.title+'": '+t),console.log(t))})}}},XAi4:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("ViewHeader",{attrs:{theThing:"Authors",numberOfThings:t.lengthOfViewableAuthors},on:{gridOn:t.showGrid,listOn:t.showList,searchString:t.searchStringUpdated,filterString:t.filterStringUpdated}}),t._v(" "),t.viewAsList?s("authorslist",{attrs:{authors:t.authorList}}):s("authorsgrid",{attrs:{authors:t.authorList}}),t._v(" "),s("infinite-loading",{on:{infinite:t.infiniteHandler}},[s("span",{attrs:{slot:"no-more"},slot:"no-more"},[t._v("\n      -- end authors ("+t._s(t.lengthOfViewableAuthors)+") --\n    ")]),t._v(" "),s("span",{attrs:{slot:"no-results"},slot:"no-results"},[t._v("\n      -- no results --\n    ")])])],1)},o=[],n={render:a,staticRenderFns:o};e.a=n},XBrk:function(t,e){},XoYm:function(t,e){},Y1TH:function(t,e){},YaEn:function(t,e,s){"use strict";var a=s("7+uW"),o=s("/ocq"),n=s("xS/3"),i=s("yc97"),r=s("6dp3"),c=s("TKn+"),l=s("ZhO+"),u=s("KmyB"),d=s("aP+b"),g=s("EtyV"),h=s("MDN+");a.a.use(o.a);var v=new o.a({routes:[{path:"/",name:"ViewShelf",component:l.a},{path:"/addauthor",name:"AddAuthor",component:n.a},{path:"/addbook",name:"AddBook",component:i.a},{path:"/users",name:"Users",component:c.a},{path:"/authors",name:"ViewAuthors",component:u.a},{path:"/authors/:id",name:"SingleAuthor",component:d.a},{path:"/books",name:"ViewBooks",component:g.a},{path:"/books/:id",name:"SingleBook",component:h.a},{path:"/addtag",name:"AddTag",component:r.a}],linkActiveClass:"is-active"});e.a=v},ZIKt:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"modal",class:{"is-active":t.isActive},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key))return null;t.cancel(e)}}},[s("div",{staticClass:"modal-background"}),t._v(" "),s("div",{staticClass:"modal-card"},[s("header",{staticClass:"modal-card-head",staticStyle:{"text-align":"center"}},[s("div",{staticClass:"modal-card-title"},[t._v("\n          Update tags for "),s("span",{staticClass:"is-size-3"},[t._v(t._s(t.book.title))])]),t._v(" "),s("button",{staticClass:"delete",attrs:{"aria-label":"close"},on:{click:t.cancel}})]),t._v(" "),s("section",{staticClass:"modal-card-body"},[s("h3",{staticClass:"title is-4"},[t._v("Current tags")]),t._v(" "),s("div",{staticClass:"tags"},t._l(t.userBookTags,function(e){return s("span",{staticClass:"tag is-info"},[t._v("\n            "+t._s(e)+"\n            "),s("button",{staticClass:"delete is-small",on:{click:function(s){t.deleteTag(e)}}})])})),t._v(" "),s("div",{staticClass:"title is-5"},[t._v("All tags")]),t._v(" "),s("div",{staticClass:"tags"},t._l(t.currentTagList,function(e){return s("span",{staticClass:"tag clickable",attrs:{title:"click to add to tags"},on:{click:function(s){t.addTag(e)}}},[t._v("\n            "+t._s(e)+"\n          ")])}))]),t._v(" "),s("footer",{staticClass:"modal-card-foot"},[s("button",{staticClass:"button is-primary",on:{click:t.save}},[t._v("Save")]),t._v(" "),s("button",{staticClass:"button",on:{click:t.cancel}},[t._v("Cancel")])])])])])},o=[],n={render:a,staticRenderFns:o};e.a=n},"ZhO+":function(t,e,s){"use strict";function a(t){s("Q/Bi")}var o=s("NcXd"),n=s("KEbE"),i=s("VU/8"),r=a,c=i(o.a,n.a,!1,r,null,null);e.a=c.exports},"aP+b":function(t,e,s){"use strict";function a(t){s("Egkj")}var o=s("C8Lv"),n=s("LxKw"),i=s("VU/8"),r=a,c=i(o.a,n.a,!1,r,null,null);e.a=c.exports},b8Ho:function(t,e,s){"use strict";function a(t){s("kot4")}var o=s("TZzk"),n=s("jSeA"),i=s("VU/8"),r=a,c=i(o.a,n.a,!1,r,null,null);e.a=c.exports},bZUl:function(t,e,s){"use strict";function a(t){s("5wyB")}var o=s("mZjH"),n=s("sGXA"),i=s("VU/8"),r=a,c=i(o.a,n.a,!1,r,null,null);e.a=c.exports},ctBo:function(t,e){},dKi3:function(t,e){},"dxC/":function(t,e,s){"use strict";var a=s("Zrlr"),o=s.n(a),n=s("wxAW"),i=s.n(n),r=s("SQ6o"),c=s("gLGg"),l=s("m6hp"),u=s("vnH7"),d=function(){function t(){o()(this,t),this.name="",this.password="",this.group=""}return i()(t,[{key:"validate",value:function(){if(this.name&&this.password)return null;var t="Must supply ";return this.name||(t+="username"),this.password||(this.name||(t+=" and "),t+="password"),t+="."}},{key:"clear",value:function(){this.name="",this.password="",this.group=""}}]),t}();e.a={components:{Clickable:c.a,Clickablepassword:u.a,deleteuserbutton:l.a},data:function(){return{UsersJson:{},messageToUser:"",newUser:new d,errorMessage:""}},beforeRouteEnter:function(t,e,s){r.a.isAuthenticated("admin")?s():s(!1)},mounted:function(){this.getUsers()},methods:{getUsers:function(){var t=r.a.getAuthHeader(),e=this;this.UsersJson={},this.$axios.get("/user",{headers:{Authorization:t}}).then(function(t){e.UsersJson=t.data.data}).catch(function(t){401===t.response.status?Event.$emit("got401"):console.log(t)})},userWasDeleted:function(t){this.printMessage("User "+t.name+" was deleted"),this.getUsers()},createNewUser:function(){var t=this.newUser.validate();if(t)return void this.printError(t);var e=this,s={Authorization:r.a.getAuthHeader()},a={name:e.newUser.name,userGroup:e.newUser.group,password:e.newUser.password};this.$axios.post("/user/",a,{headers:s}).then(function(t){e.printMessage("Created new user "+e.newUser.name),e.newUser.clear(),e.getUsers()}).catch(function(t){var s="";if(t.response){409===t.response.status&&(s='User "'+e.newUser.name+'" already exists')}else 401===t.response.status?Event.$emit("got401"):console.log(t);e.newUser.clear(),e.printError(s)})},printError:function(t){var e=this;this.errorMessage=t,setTimeout(function(){e.errorMessage=""},2500)},printMessage:function(t){var e=this;this.messageToUser=t,setTimeout(function(){e.messageToUser=""},2e3)}}}},fEdE:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticStyle:{"padding-bottom":"0.5em","margin-bottom":"1em","border-bottom":"solid gray 1px"}},[s("nav",{staticClass:"level"},[s("div",{staticClass:"level-left"},[s("div",{staticClass:"level-item has-text-centered"},[s("div",{staticClass:"field has-addons"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.filterString,expression:"filterString"}],staticClass:"input",staticStyle:{width:"7em"},attrs:{type:"text",placeholder:"filter"},domProps:{value:t.filterString},on:{input:function(e){e.target.composing||(t.filterString=e.target.value)}}}),t._v(" "),s("p",{staticClass:"control"},[s("button",{staticClass:"button",on:{click:function(e){t.filterString=""}}},[t._v("\n              Clear\n            ")])]),t._v(" "),t.numberOfThings?s("p",{staticClass:"control"},[s("a",{staticClass:"button is-static"},[t._v("\n              ("+t._s(t.numberOfThings)+")\n            ")])]):t._e()])])]),t._v(" "),s("div",{staticClass:"level-right"},[s("div",{staticClass:"level-item has-text-centered"},[s("div",{staticClass:"level-item"},[s("div",{staticClass:"field has-addons"},[s("p",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchString,expression:"searchString"}],staticClass:"input",attrs:{type:"text",placeholder:t.getPlaceHolder()},domProps:{value:t.searchString},on:{input:function(e){e.target.composing||(t.searchString=e.target.value)}}})]),t._v(" "),s("p",{staticClass:"control"},[s("button",{staticClass:"button",on:{click:function(e){t.searchString=""}}},[t._v("\n                Clear\n              ")])])])]),t._v(" "),s("div",{staticClass:"level-item"},[s("div",{staticClass:"field has-addons"},[s("button",{staticClass:"button",class:{"is-info":t.showList,"is-outlined":t.showList},on:{click:t.viewAsList}},[t._m(0)]),t._v(" "),s("button",{staticClass:"button",class:{"is-info":!t.showList,"is-outlined":!t.showList},on:{click:t.viewAsGrid}},[t._m(1)])])])])])])])},o=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"icon is-medium"},[s("i",{staticClass:"fa fa-bars"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"icon is-medium"},[s("i",{staticClass:"fa fa-th"})])}],n={render:a,staticRenderFns:o};e.a=n},"g+C/":function(t,e,s){"use strict";var a=s("2WNV");e.a={props:["userBooks","filter","tagFilter","allTags"],components:{UserBookRow:a.a},data:function(){return{UserBooksJson:this.userBooks}},methods:{},watch:{userBooks:function(t,e){this.UserBooksJson=t}}}},g7Ar:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("ViewHeader",{attrs:{theThing:"Books",numberOfThings:t.lengthOfViewableBooks},on:{gridOn:t.showGrid,listOn:t.showList,searchString:t.searchStringUpdated,filterString:t.filterStringUpdated}}),t._v(" "),t.viewAsList?s("bookslist",{attrs:{books:t.bookList}}):s("booksgrid",{attrs:{books:t.bookList}}),t._v(" "),s("infinite-loading",{on:{infinite:t.infiniteHandler}},[s("span",{attrs:{slot:"no-more"},slot:"no-more"},[t._v("\n      -- end books ("+t._s(t.lengthOfViewableBooks)+") --\n    ")]),t._v(" "),s("span",{attrs:{slot:"no-results"},slot:"no-results"},[t._v("\n      -- no results --\n    ")])]),t._v(" "),t.messageToUser?s("div",{staticClass:"animated fadeOutDown is-size-2"},[t._v("\n    "+t._s(t.messageToUser)+"\n  ")]):t._e()],1)},o=[],n={render:a,staticRenderFns:o};e.a=n},gLGg:function(t,e,s){"use strict";function a(t){s("uNQQ")}var o=s("ONHd"),n=s("MKhd"),i=s("VU/8"),r=a,c=i(o.a,n.a,!1,r,null,null);e.a=c.exports},h5SO:function(t,e,s){"use strict";function a(t){s("s8mw")}var o=s("M2YU"),n=s("DZim"),i=s("VU/8"),r=a,c=i(o.a,n.a,!1,r,null,null);e.a=c.exports},hdNR:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("p",{staticClass:"subtitle is-4",staticStyle:{"border-bottom":"solid lightgray 1px"}},[t._v("\n    Users\n  ")]),t._v(" "),s("nav",{staticClass:"level"},[s("div",{staticClass:"level-left"},[t._m(0),t._v(" "),s("div",{staticClass:"level-item"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newUser.name,expression:"newUser.name"}],staticClass:"input",attrs:{type:"text",placeholder:"Username"},domProps:{value:t.newUser.name},on:{input:function(e){e.target.composing||t.$set(t.newUser,"name",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"level-item"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newUser.password,expression:"newUser.password"}],staticClass:"input",attrs:{type:"password",placeholder:"Password"},domProps:{value:t.newUser.password},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.createNewUser(e)},input:function(e){e.target.composing||t.$set(t.newUser,"password",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"level-item"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newUser.group,expression:"newUser.group"}],staticClass:"input",attrs:{type:"text",placeholder:"Group"},domProps:{value:t.newUser.group},on:{input:function(e){e.target.composing||t.$set(t.newUser,"group",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"level-item"},[s("p",{staticClass:"control"},[s("button",{staticClass:"button is-info",on:{click:t.createNewUser}},[t._v("\n              Create\n            ")])])])])]),t._v(" "),s("br"),t._v(" "),s("table",{staticClass:"table main-width is-narrow is-bordered",attrs:{cellpadding:"10"}},[t._m(1),t._v(" "),s("tbody",t._l(t.UsersJson,function(e){return s("tr",[s("clickable",{attrs:{userObject:e}}),t._v(" "),s("td",[t._v(t._s(e.id))]),t._v(" "),s("clickablepassword",{attrs:{value:e.name}}),t._v(" "),s("td",[t._v(t._s(e.userGroup))]),t._v(" "),s("td",[s("deleteuserbutton",{attrs:{userObject:e},on:{userDeleted:function(s){t.userWasDeleted(e)}}})],1)],1)}))]),t._v(" "),t.errorMessage?s("article",{staticClass:"main-width message is-danger"},[s("div",{staticClass:"message-body"},[t._v("\n      "+t._s(t.errorMessage)+"\n    ")])]):t._e(),t._v(" "),t.messageToUser?s("div",{staticClass:"animated fadeOutDown is-size-2"},[t._v("\n    "+t._s(t.messageToUser)+"\n  ")]):t._e()])},o=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"level-item"},[s("p",{staticClass:"subtitle is-5"},[t._v("\n            Add new user: \n          ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",{staticStyle:{width:"30%"},attrs:{title:"Username"}},[t._v("Username")]),t._v(" "),s("th",{staticStyle:{width:"10%"},attrs:{title:"User ID"}},[t._v("User ID")]),t._v(" "),s("th",{staticStyle:{width:"30%"},attrs:{title:"Password"}},[t._v("Password")]),t._v(" "),s("th",{staticStyle:{width:"30%"},attrs:{title:"Group"}},[t._v("Group")]),t._v(" "),s("th",{staticStyle:{width:"10%"},attrs:{title:"Actions"}},[t._v("Actions")])])])}],n={render:a,staticRenderFns:o};e.a=n},jBd7:function(t,e,s){"use strict";var a=s("SQ6o"),o=s("M4fF"),n=s.n(o);e.a={props:["userBook","filter","tagFilter","allTags"],data:function(){return{book:{}}},mounted:function(){this.getFullBook()},methods:{getFullBook:function(){var t=a.a.getAuthHeader(),e=this,s="/book/"+this.userBook.bookId;this.$axios.get(s,{headers:{Authorization:t}}).then(function(t){e.book=t.data}).catch(function(t){401===t.response.status?this.$emit("got401"):console.log(t)})},gotoBook:function(){this.$router.push("/books/"+this.book.id)},gotoAuthor:function(){this.$router.push("/authors/"+this.userBook.authorId)}},computed:{showBook:function(){var t=!0,e=!0;if(this.filter){var s=n.a.lowerCase(this.filter),a=n.a.lowerCase(this.book.title),o=n.a.lowerCase(this.book.authorName),i=String(this.book.firstPublishedYear);t=n.a.includes(o,s)||n.a.includes(a,s)||n.a.includes(i,s)}return this.tagFilter&&(e=n.a.includes(this.userBook.tags,this.tagFilter)),!(!t||!e)}}}},jDHc:function(t,e,s){"use strict";function a(t){s("ctBo")}var o=s("orBK"),n=s("ZIKt"),i=s("VU/8"),r=a,c=i(o.a,n.a,!1,r,"data-v-3b341bdb",null);e.a=c.exports},jSeA:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",t._l(t.AuthorsJson,function(e){return s("ul",[s("li",{staticStyle:{"margin-top":"1em","padding-bottom":"1em","border-bottom":"1px lightgray solid"}},[s("a",{on:{click:function(s){t.gotoAuthor(e)}}},[s("article",{staticClass:"media",staticStyle:{width:"22%"}},[s("figure",{staticClass:"media-left"},[s("p",{staticClass:"image is-128x128"},[e.imageMedium?s("img",{staticClass:"boxshadow",staticStyle:{width:"auto","max-height":"128px"},attrs:{src:e.imageMedium}}):t._e()])]),t._v(" "),s("div",{staticClass:"media-content"},[s("div",{staticClass:"content"},[s("p",[s("strong",[t._v(t._s(e.name))])])])])])])])])}))},o=[],n={render:a,staticRenderFns:o};e.a=n},kSZ6:function(t,e,s){"use strict";function a(t){s("XBrk")}var o=s("+CTI"),n=s("fEdE"),i=s("VU/8"),r=a,c=i(o.a,n.a,!1,r,null,null);e.a=c.exports},kot4:function(t,e){},"l+Gr":function(t,e){},m6hp:function(t,e,s){"use strict";function a(t){s("LsEa")}var o=s("V/in"),n=s("8ERk"),i=s("VU/8"),r=a,c=i(o.a,n.a,!1,r,null,null);e.a=c.exports},mJnS:function(t,e){},mPV2:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("td",[t.showSpan?s("span",{on:{click:t.mutate}},[t._v("••••••••")]):s("input",{directives:[{name:"model",rawName:"v-model",value:t.formValue,expression:"formValue"}],staticClass:"input is-small",attrs:{type:"password"},domProps:{value:t.formValue,value:t.formValue},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.submit(e)},blur:t.mutate,input:function(e){e.target.composing||(t.formValue=e.target.value)}}})])},o=[],n={render:a,staticRenderFns:o};e.a=n},mVTS:function(t,e){},mZjH:function(t,e,s){"use strict";var a=s("SQ6o");e.a={props:["currentBook"],data:function(){return{userbookWasAdded:{flag:!1},userbookWasAddedError:{flag:!1}}},methods:{gotoBook:function(t){this.$router.push("/books/"+t.id)},gotoAuthor:function(t){this.$router.push("/authors/"+t.authorId)},addBookToList:function(t){console.log("ViewBooks.bookWasAddedForUser: book title "+t.title);var e=a.a.user.id,s=this,o={Authorization:a.a.getAuthHeader()},n={bookId:t.id},i="/user_book/"+e;this.$axios.post(i,n,{headers:o}).then(function(t){s.userbookWasAdded.flag=!0,setTimeout(function(){s.userbookWasAdded.flag=!1},1200)}).catch(function(t){if(t.response){409===t.response.status&&(s.userbookWasAddedError.flag=!0,setTimeout(function(){s.userbookWasAddedError.flag=!1},1200))}console.log(t)})}}}},n0ed:function(t,e){},"nKb+":function(t,e,s){"use strict";var a=s("SQ6o");e.a={props:["active"],data:function(){return{isActive:"",credentials:{name:"",password:""},error:""}},methods:{submit:function(){var t={name:this.credentials.name,password:this.credentials.password};a.a.login(this,t,"/"),this.$emit("dunsaved"),this.isActive=!1},emitMessage:function(t,e){Event.$emit("got500",e)},cancel:function(){this.$emit("duncanceled"),this.isActive=!1},keychanged:function(t){27===t.which&&this.cancel()}},watch:{active:function(t,e){this.isActive=t}},created:function(){window.addEventListener("keyup",this.keychanged)}}},ndcn:function(t,e){},orBK:function(t,e,s){"use strict";var a=s("M4fF"),o=s.n(a);e.a={props:["active","book","userBook","allTags"],data:function(){return{isActive:this.active,userBookTags:this.userBook.tags.slice(),allTagsAsList:this.allTags.map(function(t){return t.name})}},methods:{save:function(){this.$emit("savedCalled",this.userBookTags),this.isActive=!1},cancel:function(){this.$emit("cancelCalled"),this.isActive=!1},addTag:function(t){o.a.includes(this.userBookTags,t)||this.userBookTags.push(t)},deleteTag:function(t){console.log("remove tag: "+t);var e=this.userBookTags.indexOf(t);this.userBookTags.splice(e,1)},keychanged:function(t){27===t.which&&this.cancel()}},computed:{currentTagList:function(){console.log("get tags");var t=o.a.difference(this.allTagsAsList,this.userBookTags);return console.log("result:"+t),t}},watch:{active:function(t,e){console.log("modal is active: "+t),this.isActive=t}},created:function(){window.addEventListener("keyup",this.keychanged)}}},q0g7:function(t,e){},qZ1V:function(t,e,s){"use strict";var a=s("SQ6o"),o=s("M4fF"),n=s.n(o),i=s("yJ2L"),r=s("/o5o"),c=s("WVZl");e.a={components:{Message:i.a,Modal:r.a},data:function(){return{currentBook:{},userMessage:"",bookJson:{},forminput:{title:"",authorName:"",isbn:""},loading:!1,showmodal:!1,errorMessage:""}},beforeRouteEnter:function(t,e,s){a.a.isAuthenticated("admin")?s():s(!1)},methods:{clearInputs:function(){this.forminput.title="",this.forminput.authorName="",this.forminput.isbn="",this.showmodal=!1,this.bookJson={}},saveCalled:function(t){var e=this;this.showmodal=!1;var s=this.forminput.authorName;this.clearInputs(),this.forminput.authorName=s;var a=this.currentBook.title;a=n.a.startCase(n.a.toLower(a)),this.currentBook.title=a,console.log(">> "+this.currentBook.title),c.a.addBook(this,this.currentBook),Event.$on("updatedb.bookcreated",function(t){return e.printMessage(t)}),Event.$on("updatedb.book.409",function(t){return e.printMessage(t)}),Event.$on("updatedb.error",function(t){return e.printError(t)})},cancelCalled:function(){console.log("Cancel called in parent"),this.showmodal=!1},search:function(){var t=this,e=this;this.bookJson={},this.loading=!0,this.$axios.get("/query/book?author="+this.forminput.authorName+"&title="+this.forminput.title+"&isbn="+this.forminput.isbn).then(function(e){t.bookJson=e.data.data,t.loading=!1}).catch(function(t){e.loading=!1,401===t.response.status?Event.$emit("got401"):console.log(t)})},clickOnBook:function(t){this.showmodal=!0,this.currentBook=t,this.userMessage=""},makeHoverData:function(t){var e=t.subjects,s="";if(t.imageMedium&&(s+='<img src="'+t.imageMedium+'"><br>'),s+="<b>Author</b><br>",s+=t.authorName+"<br>",s+="<b>Year</b><br>",s+=t.firstPublishedYear+"<br>",s+="<b>Subjects</b>:<br>",e)for(var a=0;a<e.length;a++)s+=e[a]+"<br>";else s+="n/a";return s},printError:function(t){var e=this;this.errorMessage=t,setTimeout(function(){e.errorMessage=""},2500)},printMessage:function(t){var e=this;e.userMessage=t,setTimeout(function(){e.userMessage=""},2e3)}},created:function(){this.debouncedSearch=n.a.debounce(this.search,250)}}},qlKM:function(t,e){},s8mw:function(t,e){},sGXA:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",[s("td",[s("a",{on:{click:function(e){t.gotoBook(t.currentBook)}}},[s("figure",{staticClass:"image is-128x128"},[t.currentBook.imageMedium?s("img",{staticClass:"boxshadow",staticStyle:{width:"auto","max-height":"128px"},attrs:{src:t.currentBook.imageMedium}}):t._e()])])]),t._v(" "),s("th",[s("a",{on:{click:function(e){t.gotoBook(t.currentBook)}}},[t._v("\n      "+t._s(t.currentBook.title)+"\n    ")])]),t._v(" "),s("td",[s("a",{on:{click:function(e){t.gotoAuthor(t.currentBook)}}},[t._v("\n      "+t._s(t.currentBook.authorName)+"\n    ")])]),t._v(" "),s("td",[t._v("\n    "+t._s(t.currentBook.firstPublishedYear)+"\n  ")]),t._v(" "),s("td",[s("button",{staticClass:"button is-info is-small",class:{"is-success":t.userbookWasAdded.flag,"is-danger":t.userbookWasAddedError.flag},on:{click:function(e){t.addBookToList(t.currentBook)}}},[s("span",[t._v("Add To My Books")])])])])},o=[],n={render:a,staticRenderFns:o};e.a=n},stOr:function(t,e,s){"use strict";e.a={props:["books"],data:function(){return{BooksJson:this.books}},methods:{gotoBook:function(t){this.$router.push("/books/"+t.id)}},watch:{books:function(t,e){this.BooksJson=t}}}},tfZe:function(t,e,s){"use strict";var a=s("SQ6o");e.a={data:function(){return{bookData:{},bookId:this.$route.params.id}},methods:{gotoAuthor:function(){this.$router.push("/authors/"+this.bookData.authorId)},getBook:function(){var t=a.a.getAuthHeader(),e=this;this.bookData={};var s="/book/"+this.bookId;console.log("getbook. url: "+s),this.$axios.get(s,{headers:{Authorization:t}}).then(function(t){e.bookData=t.data}).catch(function(t){401===t.response.status?Event.$emit("got401"):console.log(t)})}},mounted:function(){this.getBook()}}},txVM:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("login",{attrs:{active:t.doLoginModal},on:{dunsaved:t.loginCalled,duncanceled:t.cancelCalled}}),t._v(" "),s("div",{staticClass:"container is-fullhd is-light",attrs:{id:"app"}},[s("nav",{staticClass:"navbar is-size-5",attrs:{role:"navigation","aria-label":"main navigation"}},[t._m(0),t._v(" "),s("div",{staticClass:"navbar-menu"},[s("div",{staticClass:"navbar-start"},[s("a",{staticClass:"navbar-item"},[s("router-link",{attrs:{tag:"div",to:"/",exact:""}},[s("span",{staticClass:"icon is-medium"},[s("i",{staticClass:"fa fa-wpexplorer"})]),t._v(" "),s("span",[t._v("My Books")])])],1),t._v(" "),s("a",{staticClass:"navbar-item"},[s("router-link",{attrs:{tag:"span",to:"/books",exact:""}},[s("span",{staticClass:"icon is-large"},[s("i",{staticClass:"fa fa-book"})]),t._v(" "),s("span",[t._v("All Books")])])],1),t._v(" "),s("a",{staticClass:"navbar-item"},[s("router-link",{attrs:{tag:"span",to:"/authors",exact:""}},[s("span",{staticClass:"icon is-large"},[s("i",{staticClass:"fa fa-grav"})]),t._v(" "),s("span",[t._v("All Authors")])])],1)]),t._v(" "),s("div",{staticClass:"navbar-end"},[t.is_authenticated("admin")?s("div",{staticClass:"navbar-item has-dropdown is-hoverable"},[s("a",{staticClass:"navbar-link"},[t._v("\n              Admin\n            ")]),t._v(" "),s("div",{staticClass:"navbar-dropdown is-boxed"},[s("a",{staticClass:"navbar-item"},[s("router-link",{attrs:{tag:"span",to:"/users",exact:""}},[s("span",{staticClass:"icon is-large"},[s("i",{staticClass:"fa fa-users"})]),t._v(" "),s("span",[t._v("Users")])])],1),t._v(" "),s("a",{staticClass:"navbar-item"},[s("router-link",{attrs:{tag:"span",to:"/addauthor",exact:""}},[s("span",{staticClass:"icon is-large"},[s("i",{staticClass:"fa fa-user-circle"})]),t._v(" "),s("span",[t._v("Add Author")])])],1),t._v(" "),s("a",{staticClass:"navbar-item"},[s("router-link",{attrs:{tag:"span",to:"/addbook",exact:""}},[s("span",{staticClass:"icon is-large"},[s("i",{staticClass:"fa fa-book"})]),t._v(" "),s("span",[t._v("Add Book")])])],1),t._v(" "),s("a",{staticClass:"navbar-item"},[s("router-link",{attrs:{tag:"span",to:"/addtag",exact:""}},[s("span",{staticClass:"icon is-large"},[s("i",{staticClass:"fa fa-tags"})]),t._v(" "),s("span",[t._v("Tags")])])],1),t._v(" "),s("hr",{staticClass:"navbar-divider"}),t._v(" "),s("div",{staticClass:"navbar-item"},[t._v("\n                myBooks 0.1.0\n              ")])])]):t._e()]),t._v(" "),s("div",{staticClass:"navbar-item"},[s("div",{staticClass:"tags has-addons"},[s("span",{staticClass:"tag"},[t._v("User:")]),t._v(" "),t.is_authenticated()?s("span",{staticClass:"tag is-info is-capitalized"},[t._v("\n              "+t._s(t.user.name)+"\n            ")]):s("span",{staticClass:"tag is-warning",on:{click:function(e){t.do_login()}}},[t._v("\n              -----\n            ")])])]),t._v(" "),s("div",{staticClass:"navbar-item"},[t.is_authenticated()?s("div",[s("button",{staticClass:"button",on:{click:function(e){t.do_logout()}}},[t._v("Log out")])]):t._e(),t._v(" "),t.is_authenticated()?t._e():s("div",[s("button",{staticClass:"button",on:{click:function(e){t.do_login()}}},[t._v("Log In")])])])])]),t._v(" "),s("div",{staticClass:"section"},[s("router-view")],1),t._v(" "),t.errorMessage?s("article",{staticClass:"main-width message is-danger"},[s("div",{staticClass:"message-body"},[t._v("\n      "+t._s(t.errorMessage)+"\n    ")])]):t._e()])],1)},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"navbar-brand"},[a("a",{staticClass:"navbar-item",attrs:{href:"/"}},[a("img",{attrs:{src:s("V7da")}}),t._v(" myBooks\n        ")])])}],n={render:a,staticRenderFns:o};e.a=n},uNQQ:function(t,e){},uRAy:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.showBook?s("div",{staticClass:"has-text-centered"},[s("div",{staticClass:"grid-div"},[s("a",{on:{click:t.gotoBook}},[s("figure",{staticClass:"image is-128x128 grid-figure"},[t.book.imageMedium?s("img",{staticClass:"boxshadow grid-image",attrs:{src:t.book.imageMedium}}):t._e()]),t._v(" "),s("span",{staticStyle:{"overflow-wrap":"break-word"}},[t._v("\n        "+t._s(t.book.title)+"\n      ")])])])]):t._e()},o=[],n={render:a,staticRenderFns:o};e.a=n},umUH:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("p",{staticClass:"subtitle is-4",staticStyle:{"border-bottom":"solid lightgray 1px"}},[t._v("\n    Add book to database\n  ")]),t._v(" "),s("modal",{attrs:{active:t.showmodal,whatType:"book",thing:t.currentBook.title},on:{dunsaved:t.saveCalled,duncanceled:t.cancelCalled}}),t._v(" "),s("nav",{staticClass:"level"},[s("div",{staticClass:"level-left"},[s("div",{staticClass:"level-item"},[s("div",{staticClass:"field has-addons"},[s("p",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.forminput.authorName,expression:"forminput.authorName"}],staticClass:"input",attrs:{type:"text",placeholder:"Author name"},domProps:{value:t.forminput.authorName},on:{input:[function(e){e.target.composing||t.$set(t.forminput,"authorName",e.target.value)},t.debouncedSearch]}})]),t._v(" "),s("p",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.forminput.title,expression:"forminput.title"}],staticClass:"input",attrs:{type:"text",placeholder:"Book title"},domProps:{value:t.forminput.title},on:{input:[function(e){e.target.composing||t.$set(t.forminput,"title",e.target.value)},t.debouncedSearch]}})]),t._v(" "),s("p",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.forminput.isbn,expression:"forminput.isbn"}],staticClass:"input",attrs:{type:"text",placeholder:"ISBN"},domProps:{value:t.forminput.isbn},on:{input:function(e){e.target.composing||t.$set(t.forminput,"isbn",e.target.value)}}})])])]),t._v(" "),s("div",{staticClass:"level-item"},[s("p",{staticClass:"control"},[s("button",{staticClass:"button is-info",class:{"is-loading":t.loading},on:{click:t.search}},[t._v("\n            Search\n          ")])]),t._v(" "),s("p",{staticClass:"control"},[s("button",{staticClass:"button is-light",on:{click:t.clearInputs}},[t._v("\n            Clear\n          ")])])])])]),t._v(" "),s("div",{staticStyle:{"text-align":"center"}},[s("ul",t._l(t.bookJson,function(e,a){return s("li",[s("a",{on:{click:function(s){t.clickOnBook(e)}}},[s("div",{staticClass:"tooltip"},[s("span",{staticClass:"tooltiptext",domProps:{innerHTML:t._s(t.makeHoverData(e))}}),t._v("\n            "+t._s(e.title)+"\n          ")])])])}))]),t._v(" "),t.errorMessage?s("article",{staticClass:"main-width message is-danger"},[s("div",{staticClass:"message-body"},[t._v("\n      "+t._s(t.errorMessage)+"\n    ")])]):t._e(),t._v(" "),t.userMessage?s("div",{staticClass:"animated fadeOutDown",staticStyle:{"font-size":"150%"}},[t._v("\n    "+t._s(t.userMessage)+"\n  ")]):t._e()],1)},o=[],n={render:a,staticRenderFns:o};e.a=n},uwpa:function(t,e,s){"use strict";var a=s("SQ6o"),o=s("3pb6"),n=s("QGpA"),i=s("kSZ6"),r=s("qK+J"),c=s.n(r),l=s("M4fF"),u=s.n(l);e.a={components:{bookslist:o.a,booksgrid:n.a,ViewHeader:i.a,InfiniteLoading:c.a},data:function(){return{BooksJson:[],viewAsList:!0,filterBookString:"",searchBookString:"",messageToUser:"",dataStart:0,lengthToGet:15,end:-1,totalNumData:0,lengthOfViewableBooks:0}},mounted:function(){var t=this;Event.$on("updatedb.book.409",function(e){return t.conflictError(e)}),Event.$on("updatedb.user_book.409",function(e){return t.conflictError(e)})},methods:{infiniteHandler:function(t){var e=this;console.log("getBooks call: start: "+e.dataStart+", segmentSize/lengthToGet: "+this.lengthToGet);var s=a.a.getAuthHeader();this.$axios.get("/book",{headers:{Authorization:s},params:{start:e.dataStart,segmentSize:e.lengthToGet}}).then(function(s){var a=s.data.data,o=s.data.start,n=s.data.length;e.BooksJson=u.a.concat(e.BooksJson,a),t.loaded(),e.totalNumData=s.data.totalFound,e.end=o+n,e.dataStart=o+e.lengthToGet,console.log("NEW for book"),console.log("-----------------------------------"),console.log("length of new data: "+s.data.length),console.log("self.dataStart: "+e.dataStart),console.log("self.end: "+e.end),console.log("self.total: "+e.totalNumData),console.log("-----------------------------------"),e.end>=e.totalNumData&&t.complete()}).catch(function(e){t.complete(),e.response?401===e.response.status&&Event.$emit("got401"):(console.log("foooooooooo"),console.log(e))})},showGrid:function(){this.viewAsList=!1},showList:function(){this.viewAsList=!0},searchStringUpdated:function(t){this.searchBookString=t},filterStringUpdated:function(t){this.filterBookString=t},printMessage:function(t){var e=this;this.messageToUser=t,setTimeout(function(){e.messageToUser=""},3e3)},conflictError:function(t){console.log("Got server error:"+t),this.printMessage(t)}},computed:{bookList:function(){var t=this.BooksJson;if(this.lengthOfViewableBooks=t.length,!this.filterBookString)return t;var e=this.filterBookString.toLowerCase(),s=function(t){return t.title.toLowerCase().includes(e)||t.authorName.toLowerCase().includes(e)||String(t.firstPublishedYear).includes(e)},a=t.filter(s);return this.lengthOfViewableBooks=a.length,a}}}},vBBg:function(t,e){},vaj8:function(t,e){t.exports={data:function(){return{addendum:""}},created:function(){Event.$on("applied",function(t){return console.log("got event in the message doohickey. Data>"+t)})}}},vj27:function(t,e,s){"use strict";var a=s("SQ6o");e.a={components:{},data:function(){return{tagJson:{},forminput:{name:""},userMessage:"",errorMessage:""}},beforeRouteEnter:function(t,e,s){a.a.isAuthenticated("admin")?s():s(!1)},mounted:function(){this.getTags()},methods:{clearInputs:function(){this.forminput.name=""},addTag:function(){var t=this;console.log("create tag: "+this.forminput.name);var e=a.a.getAuthHeader(),s=this,o={name:this.forminput.name,data:""};this.$axios.post("/tag",o,{headers:{Authorization:e}}).then(function(e){console.log("tag "+t.forminput.name+" created"),s.getTags()}).catch(function(t){401===t.response.status?Event.$emit("got401"):console.log(t)})},tagWasDeleted:function(t){console.log("delete tag: "+t.name);var e=a.a.getAuthHeader(),s=this,o="/tag/"+t.id;this.$axios.delete(o,{headers:{Authorization:e}}).then(function(t){console.log("tag deleted"),s.getTags()}).catch(function(t){401===t.response.status?Event.$emit("got401"):console.log(t)})},getTags:function(){this.clearInputs();var t=a.a.getAuthHeader(),e=this;this.tagJson={},this.$axios.get("/tag/",{headers:{Authorization:t}}).then(function(t){e.tagJson=t.data.data}).catch(function(t){401===t.response.status?Event.$emit("got401"):console.log(t)})},printError:function(t){var e=this;this.errorMessage=t,setTimeout(function(){e.errorMessage=""},2500)},printMessage:function(t){var e=this;e.userMessage=t,setTimeout(function(){e.userMessage=""},2e3)}}}},vnH7:function(t,e,s){"use strict";function a(t){s("69gz")}var o=s("PlFd"),n=s("mPV2"),i=s("VU/8"),r=a,c=i(o.a,n.a,!1,r,null,null);e.a=c.exports},wEkB:function(t,e){},xJD8:function(t,e,s){"use strict";var a=s("yJ2L"),o=s("xS/3"),n=s("xJsL"),i=s("SQ6o"),r=s("GK12");s.n(r);e.a={name:"app",components:{Message:a.a,AddAuthor:o.a,Login:n.a},data:function(){return{user:i.a.user,doLoginModal:!1,errorMessage:""}},mounted:function(){var t=this;i.a.validateTokens(this),Event.$on("got401",function(){return t.wasLoggedOut()}),Event.$on("got500",function(e){return t.serverError(e)})},methods:{loginCalled:function(t){this.doLoginModal=!1},cancelCalled:function(){this.doLoginModal=!1},do_logout:function(){i.a.logout(this)},do_login:function(){this.doLoginModal=!0},wasLoggedOut:function(){console.log("We were logged out"),i.a.logout(this)},serverError:function(t){this.printError("Server error: "+t)},printError:function(t){var e=this;this.errorMessage=t,setTimeout(function(){e.errorMessage=""},5500)},is_authenticated:function(t){if(i.a.checkAuth(),this.user){return i.a.isAuthenticated(t)}return!1}}}},xJsL:function(t,e,s){"use strict";var a=s("nKb+"),o=s("7DA4"),n=s("VU/8"),i=n(a.a,o.a,!1,null,null,null);e.a=i.exports},"xS/3":function(t,e,s){"use strict";function a(t){s("qlKM")}var o=s("R19s"),n=s("Bmjw"),i=s("VU/8"),r=a,c=i(o.a,n.a,!1,r,null,null);e.a=c.exports},y8tb:function(t,e,s){"use strict";var a=s("/r2p");e.a={props:["userBooks","filter","tagFilter","allTags"],components:{UserBookGrid:a.a},data:function(){return{UserBooksJson:this.userBooks}},methods:{},watch:{userBooks:function(t,e){this.UserBooksJson=t}}}},yJ2L:function(t,e,s){"use strict";function a(t){s("mJnS")}var o=s("vaj8"),n=s.n(o),i=s("5Wtb"),r=s("VU/8"),c=a,l=r(n.a,i.a,!1,c,null,null);e.a=l.exports},yc97:function(t,e,s){"use strict";function a(t){s("Y1TH")}var o=s("qZ1V"),n=s("umUH"),i=s("VU/8"),r=a,c=i(o.a,n.a,!1,r,null,null);e.a=c.exports},"z/Kv":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("p",{staticClass:"subtitle is-4",staticStyle:{"border-bottom":"solid lightgray 1px"}},[t._v("\n    Manage tags\n  ")]),t._v(" "),s("nav",{staticClass:"level"},[s("div",{staticClass:"level-left"},[t._m(0),t._v(" "),s("div",{staticClass:"level-item"},[s("p",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.forminput.name,expression:"forminput.name"}],staticClass:"input",attrs:{type:"text",placeholder:"tag name"},domProps:{value:t.forminput.name},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.addTag(e)},input:function(e){e.target.composing||t.$set(t.forminput,"name",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"level-item"},[s("p",{staticClass:"control"},[s("button",{staticClass:"button is-info",on:{click:t.addTag}},[t._v("\n            Create\n          ")])]),t._v(" "),s("p",{staticClass:"control"},[s("button",{staticClass:"button is-light",on:{click:t.clearInputs}},[t._v("\n            Clear\n          ")])])])])]),t._v(" "),s("br"),t._v(" "),t._m(1),t._v(" "),s("div",{staticClass:"field is-grouped is-grouped-multiline"},t._l(t.tagJson,function(e){return s("div",{staticClass:"control"},[s("div",{staticClass:"tags has-addons"},[s("span",{staticClass:"tag is-info"},[t._v("\n          "+t._s(e.name)+"\n        ")]),t._v(" "),s("a",{staticClass:"tag is-delete",on:{click:function(s){t.tagWasDeleted(e)}}})])])})),t._v(" "),t.errorMessage?s("article",{staticClass:"main-width message is-danger"},[s("div",{staticClass:"message-body"},[t._v("\n      "+t._s(t.errorMessage)+"\n    ")])]):t._e(),t._v(" "),t.userMessage?s("div",{staticClass:"animated fadeOutDown",staticStyle:{"font-size":"150%"}},[t._v("\n    "+t._s(t.userMessage)+"\n  ")]):t._e()])},o=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"level-item"},[s("p",{staticClass:"subtitle is-5"},[t._v("\n          Add new tag: \n        ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",{staticClass:"subtitle is-4"},[s("span",{staticStyle:{"border-bottom":"solid gray 1px"}},[t._v("\n      Tags\n    ")])])}],n={render:a,staticRenderFns:o};e.a=n}},["NHnr"]);
//# sourceMappingURL=app.9297d061f418d130fd9a.js.map